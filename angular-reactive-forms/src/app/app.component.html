<div class="container">
  <form [formGroup]="userData" (ngSubmit)="submitForm()" class="sectionContainer">
    <h2>Create User</h2>

    <div class="inputContainer">
      <label for="firstName">First Name</label>*
      <input id="firstName" type="text" formControlName="firstName" [class.invalid]="isInvalid('firstName')">
      <span class="error"  [ngStyle]="{ 'visibility': isInvalid('firstName') ? 'visible' : 'hidden' }">First Name is required</span>
    </div>

    <div class="inputContainer">
      <label for="lastName">Last Name</label>*
      <input id="lastName" type="text" formControlName="lastName" [class.invalid]="isInvalid('lastName')">
      <span class="error" [ngStyle]="{ 'visibility': isInvalid('lastName') ? 'visible' : 'hidden' }">Last Name is required</span>
    </div>

    <div formGroupName="address">
      <h4>Address</h4>

      <div class="inputContainer">
        <label #label for="street">Street</label>*
        <input id="street" type="text" formControlName="street" [class.invalid]="isInvalid('address.street')">
        <span class="error" [ngStyle]="{ 'visibility': isInvalid('address.street') ? 'visible' : 'hidden' }">Street is required</span>
      </div>

      <div class="inputContainer">
        <label for="city">City</label>*
        <input id="city" type="text" formControlName="city" [class.invalid]="isInvalid('address.city')">
        <span class="error" [ngStyle]="{ 'visibility': isInvalid('address.city') ? 'visible' : 'hidden' }">City is required</span>
      </div>

      <div class="inputContainer">
        <label for="state">State</label>*
        <input id="state" type="text" formControlName="state" [class.invalid]="isInvalid('address.state')">
        <span class="error" [ngStyle]="{ 'visibility': isInvalid('address.state') ? 'visible' : 'hidden' }">State is required</span>
      </div>

      <div class="inputContainer">
        <label for="zipCode">ZIP / Postal Code</label>*
        <input id="zipCode" type="number" formControlName="zipCode" [class.invalid]="isInvalid('address.zipCode')">
        <span class="error" [ngStyle]="{ 'visibility': isInvalid('address.zipCode') ? 'visible' : 'hidden' }">ZIP / Postal Code is required</span>
      </div>
    </div>

    <div class="buttonContainer">
      <button type="submit" [disabled]="!userData.valid"> Submit </button>
    </div>

  </form>

  <div class="sectionContainer userContainer">
    <h2>Users</h2>
    <div class="user" *ngFor="let profile of createdUserProfiles">
      <div>
        <span>{{ profile.firstName }} </span>
        <span>{{ profile.lastName }}</span>
      </div>
      <div>{{ profile.street }}</div>
      <div>
        <span>{{ profile.city }}, </span>
        <span>{{ profile.state }} </span>
        <span>{{ profile.zipCode }}</span>
      </div>
    </div>
  </div>
</div>